{% extends "blog/base.html" %}
{% load static %}

{% block content %}
<main class="container">
    <div class="p-4 p-md-5 mb-4 text-white rounded bg-dark">
        <div class="col-md-6 px-0">
            <h1 class="display-4 font-italic">Welcome to the Django Blog!</h1>
            <p class="lead my-3">
                This is the homepage of your new blog application. Start creating posts and connecting with your readers.
            </p>
            {% if user.is_authenticated %}
                <p class="lead mb-0">Hello, {{ user.username }}! You are currently logged in.</p>
            {% else %}
                <p class="lead mb-0"><a href="{% url 'register' %}" class="text-white fw-bold">Register</a> or <a href="{% url 'login' %}" class="text-white fw-bold">Login</a> to get started.</p>
            {% endif %}
        </div>
    </div>

    <!-- Section to display blog posts -->
    <div class="row">
        <div class="col-md-8">
            <h2 class="my-4">Recent Posts</h2>
            {% if posts %}
                {% for post in posts %}
                    <div class="card mb-4">
                        <div class="card-body">
                            <h3 class="card-title">{{ post.title }}</h3>
                            <p class="card-subtitle mb-2 text-muted">
                                By {{ post.author.username }} on {{ post.published_date|date:"F d, Y" }}
                            </p>
                            <p class="card-text">{{ post.content|truncatewords:50 }}</p>
                        </div>
                    </div>
                {% endfor %}
            {% else %}
                <p>No blog posts have been created yet.</p>
            {% endif %}
        </div>
    </div>
</main>
{% endblock %}
